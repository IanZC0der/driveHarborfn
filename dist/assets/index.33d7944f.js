/* empty css                  */import{v as $}from"./el-loading.0603de45.js";import{E as j,a as H}from"./el-tag.899c78ba.js";import"./el-tooltip.89296c46.js";import{E as G}from"./el-icon.2297d2f2.js";import{ci as v,az as P,r as y,Z as U,$ as x,F as W,W as Y,o as D,g as Z,C as s,M as o,w as c,S as q,f as J,aD as r,V as g,k as S,n as K,t as Q,aG as X}from"./index.2f5fdfe0.js";import{_ as ee}from"./_plugin-vue_export-helper.cdc0426e.js";import"./debounce.bcee758e.js";let w={recycles:function(i,a){v({url:"/recycles",params:{},method:"get"}).then(t=>i(t)).catch(t=>a(t))},restoreRecycle:function(i,a,t){v({url:"/recycle/restore",data:i,method:"put"}).then(n=>a(n)).catch(n=>t(n))},deleteRecycle:function(i,a,t){v({url:"/recycle",data:i,method:"delete"}).then(n=>a(n)).catch(n=>t(n))}};const te={class:"recycle-button-content"},oe={class:"restore-button-content"},le={class:"clean-button-content"},ne={class:"recycle-file-list-content"},se={class:"file-name-content"},ce={style:{cursor:"pointer"}},ae={class:"file-operation-content"},ie={__name:"index",setup(i){const a=P(),t=y([]),n=y(window.innerHeight-200),u=y([]),_=y(!0),b=()=>{_.value=!0,w.recycles(e=>{_.value=!1,t.value=e.data},e=>{_.value=!1,r.error(e.message)})};U(()=>{a.setSearchFlag(!1),b()});const R=e=>{X.confirm("Are you sure you want to permanently erase the items?","You can\u2019t undo this action.",{confirmButtonText:"Delete",cancelButtonText:"Cancel",type:"warning"}).then(()=>{w.deleteRecycle({fileIds:e},l=>{r.success("Deletion Success"),b()},l=>{r.error(l.message)})})},k=()=>{if(t.value&&t.value.length>0){let e=new Array;t.value.forEach(l=>{e.push(l.fileId)}),R(e.join("__,__"))}},F=e=>{u.value=e},T=(e,l,d,f)=>{g.showOperation(d)},I=(e,l,d,f)=>{g.hiddenOperation(d)},z=e=>{g.getFileFontElement(e)},C=e=>{w.restoreRecycle({fileIds:e},l=>{r.success("File restored successfully"),t.value=l.data},l=>{r.error(l.message)})},B=()=>{if(u.value&&u.value.length>0){let e=new Array;u.value.forEach(l=>{e.push(l.fileId)}),C(e.join("__,__"));return}r.error("Please select the files to be restored")},L=e=>{C(e.fileId)},M=e=>{R(e.fileId)};return(e,l)=>{const d=x("RefreshLeft"),f=W,p=Y,O=x("Delete"),m=j,E=G,A=H,N=$;return D(),Z("div",null,[s("div",te,[s("div",oe,[o(p,{type:"success",size:"default",round:"",onClick:B},{default:c(()=>[S(" Restore "),o(f,{class:"el-icon--right"},{default:c(()=>[o(d)]),_:1})]),_:1})]),s("div",le,[o(p,{type:"danger",size:"default",round:"",onClick:k},{default:c(()=>[S(" Empty Recycles "),o(f,{class:"el-icon--right"},{default:c(()=>[o(O)]),_:1})]),_:1})])]),s("div",ne,[q((D(),J(A,{ref:"recycleTable",data:t.value,height:n.value,"tooltip-effect":"dark",style:{width:"100%"},onSelectionChange:F,onCellMouseEnter:T,onCellMouseLeave:I},{default:c(()=>[o(m,{type:"selection",width:"55"}),o(m,{label:"File Name",prop:"fileName",sortable:"","show-overflow-tooltip":"","min-width":"750"},{default:c(h=>[s("div",se,[s("i",{class:K(z(h.row.fileType)),style:{"margin-right":"15px","font-size":"20px",cursor:"pointer"}},null,2),s("span",ce,Q(h.row.filename),1)]),s("div",ae,[o(E,{class:"item",effect:"light",content:"Restore",placement:"top"},{default:c(()=>[o(p,{type:"success",icon:"RefreshLeft",size:"small",circle:"",onClick:V=>L(h.row)},null,8,["onClick"])]),_:2},1024),o(E,{class:"item",effect:"light",content:"Delete",placement:"top"},{default:c(()=>[o(p,{type:"danger",icon:"Delete",size:"small",circle:"",onClick:V=>M(h.row)},null,8,["onClick"])]),_:2},1024)])]),_:1}),o(m,{prop:"fileSizeDesc",sortable:"",label:"Size","min-width":"120",align:"center"}),o(m,{prop:"updateTime",sortable:"",align:"center",label:"Deletion Time","min-width":"240"})]),_:1},8,["data","height"])),[[N,_.value]])])])}}},ye=ee(ie,[["__scopeId","data-v-b036f5c3"]]);export{ye as default};
