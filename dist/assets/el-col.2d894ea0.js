import{b as U,d as T,u as k,c as f,a3 as te,o as A,f as ae,w as G,j as _,n as F,a as ne,D as $e,E as Se,_ as H,p as me,q as P,ct as L,a4 as K,J as ye,b4 as ke,a6 as x,cu as Y,bT as Z,bV as ie,bU as Be,m as je,a2 as ze,cv as Re,bu as De,b1 as se,r as S,ag as Le,bW as We,aA as fe,a9 as ee,Z as ve,a5 as we,G as I,F as xe,S as Fe,T as Ve,am as he,af as Q,aj as be,as as Ie,B as W,H as qe,co as Ge,ba as Ce,b2 as Ke,cw as Ue,ae as He,a8 as Je,$ as Ze,g as oe,C as pe,k as Qe,t as Xe,ao as ge}from"./index.b1ab2185.js";import{_ as Ye}from"./index.1ca9696f.js";import{E as Ee}from"./el-icon.6cf20f75.js";const _e=Symbol("rowContextKey"),et=["start","center","end","space-around","space-between","space-evenly"],tt=["top","middle","bottom"],nt=U({tag:{type:String,default:"div"},gutter:{type:Number,default:0},justify:{type:String,values:et,default:"start"},align:{type:String,values:tt}}),st=T({name:"ElRow"}),ot=T({...st,props:nt,setup(e){const n=e,t=k("row"),a=f(()=>n.gutter);te(_e,{gutter:a});const u=f(()=>{const s={};return n.gutter&&(s.marginRight=s.marginLeft=`-${n.gutter/2}px`),s}),y=f(()=>[t.b(),t.is(`justify-${n.justify}`,n.justify!=="start"),t.is(`align-${n.align}`,!!n.align)]);return(s,v)=>(A(),ae(Se(s.tag),{class:F(ne(y)),style:$e(ne(u))},{default:G(()=>[_(s.$slots,"default")]),_:3},8,["class","style"]))}});var at=H(ot,[["__file","/home/runner/work/element-plus/element-plus/packages/components/row/src/row.vue"]]);const Ot=me(at),lt=U({tag:{type:String,default:"div"},span:{type:Number,default:24},offset:{type:Number,default:0},pull:{type:Number,default:0},push:{type:Number,default:0},xs:{type:P([Number,Object]),default:()=>L({})},sm:{type:P([Number,Object]),default:()=>L({})},md:{type:P([Number,Object]),default:()=>L({})},lg:{type:P([Number,Object]),default:()=>L({})},xl:{type:P([Number,Object]),default:()=>L({})}}),ut=T({name:"ElCol"}),rt=T({...ut,props:lt,setup(e){const n=e,{gutter:t}=K(_e,{gutter:f(()=>0)}),a=k("col"),u=f(()=>{const s={};return t.value&&(s.paddingLeft=s.paddingRight=`${t.value/2}px`),s}),y=f(()=>{const s=[];return["span","offset","pull","push"].forEach(i=>{const m=n[i];ye(m)&&(i==="span"?s.push(a.b(`${n[i]}`)):m>0&&s.push(a.b(`${i}-${n[i]}`)))}),["xs","sm","md","lg","xl"].forEach(i=>{ye(n[i])?s.push(a.b(`${i}-${n[i]}`)):ke(n[i])&&Object.entries(n[i]).forEach(([m,b])=>{s.push(m!=="span"?a.b(`${i}-${m}-${b}`):a.b(`${i}-${b}`))})}),t.value&&s.push(a.is("guttered")),[a.b(),s]});return(s,v)=>(A(),ae(Se(s.tag),{class:F(ne(y)),style:$e(ne(u))},{default:G(()=>[_(s.$slots,"default")]),_:3},8,["class","style"]))}});var it=H(rt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/col/src/col.vue"]]);const Pt=me(it);class ct{constructor(n,t){this.parent=n,this.domNode=t,this.subIndex=0,this.subIndex=0,this.init()}init(){this.subMenuItems=this.domNode.querySelectorAll("li"),this.addListeners()}gotoSubIndex(n){n===this.subMenuItems.length?n=0:n<0&&(n=this.subMenuItems.length-1),this.subMenuItems[n].focus(),this.subIndex=n}addListeners(){const n=this.parent.domNode;Array.prototype.forEach.call(this.subMenuItems,t=>{t.addEventListener("keydown",a=>{let u=!1;switch(a.code){case x.down:{this.gotoSubIndex(this.subIndex+1),u=!0;break}case x.up:{this.gotoSubIndex(this.subIndex-1),u=!0;break}case x.tab:{Y(n,"mouseleave");break}case x.enter:case x.space:{u=!0,a.currentTarget.click();break}}return u&&(a.preventDefault(),a.stopPropagation()),!1})})}}class dt{constructor(n,t){this.domNode=n,this.submenu=null,this.submenu=null,this.init(t)}init(n){this.domNode.setAttribute("tabindex","0");const t=this.domNode.querySelector(`.${n}-menu`);t&&(this.submenu=new ct(this,t)),this.addListeners()}addListeners(){this.domNode.addEventListener("keydown",n=>{let t=!1;switch(n.code){case x.down:{Y(n.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(0),t=!0;break}case x.up:{Y(n.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(this.submenu.subMenuItems.length-1),t=!0;break}case x.tab:{Y(n.currentTarget,"mouseleave");break}case x.enter:case x.space:{t=!0,n.currentTarget.click();break}}t&&n.preventDefault()})}}class pt{constructor(n,t){this.domNode=n,this.init(t)}init(n){const t=this.domNode.childNodes;Array.from(t).forEach(a=>{a.nodeType===1&&new dt(a,n)})}}const mt=T({name:"ElMenuCollapseTransition",setup(){const e=k("menu");return{listeners:{onBeforeEnter:t=>t.style.opacity="0.2",onEnter(t,a){Z(t,`${e.namespace.value}-opacity-transition`),t.style.opacity="1",a()},onAfterEnter(t){ie(t,`${e.namespace.value}-opacity-transition`),t.style.opacity=""},onBeforeLeave(t){t.dataset||(t.dataset={}),Be(t,e.m("collapse"))?(ie(t,e.m("collapse")),t.dataset.oldOverflow=t.style.overflow,t.dataset.scrollWidth=t.clientWidth.toString(),Z(t,e.m("collapse"))):(Z(t,e.m("collapse")),t.dataset.oldOverflow=t.style.overflow,t.dataset.scrollWidth=t.clientWidth.toString(),ie(t,e.m("collapse"))),t.style.width=`${t.scrollWidth}px`,t.style.overflow="hidden"},onLeave(t){Z(t,"horizontal-collapse-transition"),t.style.width=`${t.dataset.scrollWidth}px`}}}}});function ft(e,n,t,a,u,y){return A(),ae(ze,je({mode:"out-in"},e.listeners),{default:G(()=>[_(e.$slots,"default")]),_:3},16)}var vt=H(mt,[["render",ft],["__file","/home/runner/work/element-plus/element-plus/packages/components/menu/src/menu-collapse-transition.vue"]]);function Te(e,n){const t=f(()=>{let u=e.parent;const y=[n.value];for(;u.type.name!=="ElMenu";)u.props.index&&y.unshift(u.props.index),u=u.parent;return y});return{parentMenu:f(()=>{let u=e.parent;for(;u&&!["ElMenu","ElSubMenu"].includes(u.type.name);)u=u.parent;return u}),indexPath:t}}function ht(e){return f(()=>{const t=e.backgroundColor;return t?new Re(t).shade(20).toString():""})}const Ne=(e,n)=>{const t=k("menu");return f(()=>t.cssVarBlock({"text-color":e.textColor||"","hover-text-color":e.textColor||"","bg-color":e.backgroundColor||"","hover-bg-color":ht(e).value||"","active-color":e.activeTextColor||"",level:`${n}`}))},bt=U({index:{type:String,required:!0},showTimeout:{type:Number,default:300},hideTimeout:{type:Number,default:300},popperClass:String,disabled:Boolean,popperAppendToBody:{type:Boolean,default:void 0},teleported:{type:Boolean,default:void 0},popperOffset:{type:Number,default:6},expandCloseIcon:{type:Q},expandOpenIcon:{type:Q},collapseCloseIcon:{type:Q},collapseOpenIcon:{type:Q}}),X="ElSubMenu";var Me=T({name:X,props:bt,setup(e,{slots:n,expose:t}){De({from:"popper-append-to-body",replacement:"teleported",scope:X,version:"2.3.0",ref:"https://element-plus.org/en-US/component/menu.html#submenu-attributes"},f(()=>e.popperAppendToBody!==void 0));const a=be(),{indexPath:u,parentMenu:y}=Te(a,f(()=>e.index)),s=k("menu"),v=k("sub-menu"),r=K("rootMenu");r||se(X,"can not inject root menu");const i=K(`subMenu:${y.value.uid}`);i||se(X,"can not inject sub menu");const m=S({}),b=S({});let C;const N=S(!1),le=S(),J=S(null),B=f(()=>O.value==="horizontal"&&j.value?"bottom-start":"right-start"),R=f(()=>O.value==="horizontal"&&j.value||O.value==="vertical"&&!r.props.collapse?e.expandCloseIcon&&e.expandOpenIcon?w.value?e.expandOpenIcon:e.expandCloseIcon:Le:e.collapseCloseIcon&&e.collapseOpenIcon?w.value?e.collapseOpenIcon:e.collapseCloseIcon:We),j=f(()=>i.level===0),V=f(()=>{var d;const p=(d=e.teleported)!=null?d:e.popperAppendToBody;return p===void 0?j.value:p}),ue=f(()=>r.props.collapse?`${s.namespace.value}-zoom-in-left`:`${s.namespace.value}-zoom-in-top`),re=f(()=>O.value==="horizontal"&&j.value?["bottom-start","bottom-end","top-start","top-end","right-start","left-start"]:["right-start","right","right-end","left-start","bottom-start","bottom-end","top-start","top-end"]),w=f(()=>r.openedMenus.includes(e.index)),q=f(()=>{let d=!1;return Object.values(m.value).forEach(p=>{p.active&&(d=!0)}),Object.values(b.value).forEach(p=>{p.active&&(d=!0)}),d}),O=f(()=>r.props.mode),z=fe({index:e.index,indexPath:u,active:q}),D=Ne(r.props,i.level+1),o=()=>{var d,p,h;return(h=(p=(d=J.value)==null?void 0:d.popperRef)==null?void 0:p.popperInstanceRef)==null?void 0:h.destroy()},l=d=>{d||o()},c=()=>{r.props.menuTrigger==="hover"&&r.props.mode==="horizontal"||r.props.collapse&&r.props.mode==="vertical"||e.disabled||r.handleSubMenuClick({index:e.index,indexPath:u.value,active:q.value})},M=(d,p=e.showTimeout)=>{var h;d.type!=="focus"&&(r.props.menuTrigger==="click"&&r.props.mode==="horizontal"||!r.props.collapse&&r.props.mode==="vertical"||e.disabled||(i.mouseInChild.value=!0,C==null||C(),{stop:C}=Ie(()=>{r.openMenu(e.index,u.value)},p),V.value&&((h=y.value.vnode.el)==null||h.dispatchEvent(new MouseEvent("mouseenter")))))},g=(d=!1)=>{var p,h;r.props.menuTrigger==="click"&&r.props.mode==="horizontal"||!r.props.collapse&&r.props.mode==="vertical"||(C==null||C(),i.mouseInChild.value=!1,{stop:C}=Ie(()=>!N.value&&r.closeMenu(e.index,u.value),e.hideTimeout),V.value&&d&&((p=a.parent)==null?void 0:p.type.name)==="ElSubMenu"&&((h=i.handleMouseleave)==null||h.call(i,!0)))};ee(()=>r.props.collapse,d=>l(Boolean(d)));{const d=h=>{b.value[h.index]=h},p=h=>{delete b.value[h.index]};te(`subMenu:${a.uid}`,{addSubMenu:d,removeSubMenu:p,handleMouseleave:g,mouseInChild:N,level:i.level+1})}return t({opened:w}),ve(()=>{r.addSubMenu(z),i.addSubMenu(z)}),we(()=>{i.removeSubMenu(z),r.removeSubMenu(z)}),()=>{var d;const p=[(d=n.title)==null?void 0:d.call(n),I(xe,{class:v.e("icon-arrow"),style:{transform:w.value?e.expandCloseIcon&&e.expandOpenIcon||e.collapseCloseIcon&&e.collapseOpenIcon&&r.props.collapse?"none":"rotateZ(180deg)":"none"}},{default:()=>W(R.value)?I(a.appContext.components[R.value]):I(R.value)})],h=r.isMenuPopup?I(Ee,{ref:J,visible:w.value,effect:"light",pure:!0,offset:e.popperOffset,showArrow:!1,persistent:!0,popperClass:e.popperClass,placement:B.value,teleported:V.value,fallbackPlacements:re.value,transition:ue.value,gpuAcceleration:!1},{content:()=>{var $;return I("div",{class:[s.m(O.value),s.m("popup-container"),e.popperClass],onMouseenter:E=>M(E,100),onMouseleave:()=>g(!0),onFocus:E=>M(E,100)},[I("ul",{class:[s.b(),s.m("popup"),s.m(`popup-${B.value}`)],style:D.value},[($=n.default)==null?void 0:$.call(n)])])},default:()=>I("div",{class:v.e("title"),onClick:c},p)}):I(he,{},[I("div",{class:v.e("title"),ref:le,onClick:c},p),I(Ye,{},{default:()=>{var $;return Fe(I("ul",{role:"menu",class:[s.b(),s.m("inline")],style:D.value},[($=n.default)==null?void 0:$.call(n)]),[[Ve,w.value]])}})]);return I("li",{class:[v.b(),v.is("active",q.value),v.is("opened",w.value),v.is("disabled",e.disabled)],role:"menuitem",ariaHaspopup:!0,ariaExpanded:w.value,onMouseenter:M,onMouseleave:()=>g(!0),onFocus:M},[h])}}});const gt=U({mode:{type:String,values:["horizontal","vertical"],default:"vertical"},defaultActive:{type:String,default:""},defaultOpeneds:{type:P(Array),default:()=>L([])},uniqueOpened:Boolean,router:Boolean,menuTrigger:{type:String,values:["hover","click"],default:"hover"},collapse:Boolean,backgroundColor:String,textColor:String,activeTextColor:String,collapseTransition:{type:Boolean,default:!0},ellipsis:{type:Boolean,default:!0},popperEffect:{type:String,values:["dark","light"],default:"dark"}}),ce=e=>Array.isArray(e)&&e.every(n=>W(n)),Mt={close:(e,n)=>W(e)&&ce(n),open:(e,n)=>W(e)&&ce(n),select:(e,n,t,a)=>W(e)&&ce(n)&&ke(t)&&(a===void 0||a instanceof Promise)};var yt=T({name:"ElMenu",props:gt,emits:Mt,setup(e,{emit:n,slots:t,expose:a}){const u=be(),y=u.appContext.config.globalProperties.$router,s=S(),v=k("menu"),r=k("sub-menu"),i=S(-1),m=S(e.defaultOpeneds&&!e.collapse?e.defaultOpeneds.slice(0):[]),b=S(e.defaultActive),C=S({}),N=S({}),le=f(()=>e.mode==="horizontal"||e.mode==="vertical"&&e.collapse),J=()=>{const o=b.value&&C.value[b.value];if(!o||e.mode==="horizontal"||e.collapse)return;o.indexPath.forEach(c=>{const M=N.value[c];M&&B(c,M.indexPath)})},B=(o,l)=>{m.value.includes(o)||(e.uniqueOpened&&(m.value=m.value.filter(c=>l.includes(c))),m.value.push(o),n("open",o,l))},R=o=>{const l=m.value.indexOf(o);l!==-1&&m.value.splice(l,1)},j=(o,l)=>{R(o),n("close",o,l)},V=({index:o,indexPath:l})=>{m.value.includes(o)?j(o,l):B(o,l)},ue=o=>{(e.mode==="horizontal"||e.collapse)&&(m.value=[]);const{index:l,indexPath:c}=o;if(!(Ce(l)||Ce(c)))if(e.router&&y){const M=o.route||l,g=y.push(M).then(d=>(d||(b.value=l),d));n("select",l,c,{index:l,indexPath:c,route:M},g)}else b.value=l,n("select",l,c,{index:l,indexPath:c})},re=o=>{const l=C.value,c=l[o]||b.value&&l[b.value]||l[e.defaultActive];c?b.value=c.index:b.value=o},w=()=>{var o,l;if(!s.value)return-1;const c=Array.from((l=(o=s.value)==null?void 0:o.childNodes)!=null?l:[]).filter(E=>E.nodeName!=="#comment"&&(E.nodeName!=="#text"||E.nodeValue)),M=64,g=Number.parseInt(getComputedStyle(s.value).paddingLeft,10),d=Number.parseInt(getComputedStyle(s.value).paddingRight,10),p=s.value.clientWidth-g-d;let h=0,$=0;return c.forEach((E,Ae)=>{h+=E.offsetWidth||0,h<=p-M&&($=Ae+1)}),$===c.length?-1:$},q=(o,l=33.34)=>{let c;return()=>{c&&clearTimeout(c),c=setTimeout(()=>{o()},l)}};let O=!0;const z=()=>{const o=()=>{i.value=-1,He(()=>{i.value=w()})};O?o():q(o)(),O=!1};ee(()=>e.defaultActive,o=>{C.value[o]||(b.value=""),re(o)}),ee(()=>e.collapse,o=>{o&&(m.value=[])}),ee(C.value,J);let D;qe(()=>{e.mode==="horizontal"&&e.ellipsis?D=Ke(s,z).stop:D==null||D()});{const o=g=>{N.value[g.index]=g},l=g=>{delete N.value[g.index]};te("rootMenu",fe({props:e,openedMenus:m,items:C,subMenus:N,activeIndex:b,isMenuPopup:le,addMenuItem:g=>{C.value[g.index]=g},removeMenuItem:g=>{delete C.value[g.index]},addSubMenu:o,removeSubMenu:l,openMenu:B,closeMenu:j,handleMenuItemClick:ue,handleSubMenuClick:V})),te(`subMenu:${u.uid}`,{addSubMenu:o,removeSubMenu:l,mouseInChild:S(!1),level:0})}return ve(()=>{e.mode==="horizontal"&&new pt(u.vnode.el,v.namespace.value)}),a({open:l=>{const{indexPath:c}=N.value[l];c.forEach(M=>B(M,c))},close:R,handleResize:z}),()=>{var o,l;let c=(l=(o=t.default)==null?void 0:o.call(t))!=null?l:[];const M=[];if(e.mode==="horizontal"&&s.value){const p=Ge(c),h=i.value===-1?p:p.slice(0,i.value),$=i.value===-1?[]:p.slice(i.value);($==null?void 0:$.length)&&e.ellipsis&&(c=h,M.push(I(Me,{index:"sub-menu-more",class:r.e("hide-arrow")},{title:()=>I(xe,{class:r.e("icon-more")},{default:()=>I(Ue)}),default:()=>$})))}const g=Ne(e,0),d=I("ul",{key:String(e.collapse),role:"menubar",ref:s,style:g.value,class:{[v.b()]:!0,[v.m(e.mode)]:!0,[v.m("collapse")]:e.collapse}},[...c,...M]);return e.collapseTransition&&e.mode==="vertical"?I(vt,()=>d):d}}});const It=U({index:{type:P([String,null]),default:null},route:{type:P([String,Object])},disabled:Boolean}),Ct={click:e=>W(e.index)&&Array.isArray(e.indexPath)},de="ElMenuItem",$t=T({name:de,components:{ElTooltip:Ee},props:It,emits:Ct,setup(e,{emit:n}){const t=be(),a=K("rootMenu"),u=k("menu"),y=k("menu-item");a||se(de,"can not inject root menu");const{parentMenu:s,indexPath:v}=Te(t,Je(e,"index")),r=K(`subMenu:${s.value.uid}`);r||se(de,"can not inject sub menu");const i=f(()=>e.index===a.activeIndex),m=fe({index:e.index,indexPath:v,active:i}),b=()=>{e.disabled||(a.handleMenuItemClick({index:e.index,indexPath:v.value,route:e.route}),n("click",m))};return ve(()=>{r.addSubMenu(m),a.addMenuItem(m)}),we(()=>{r.removeSubMenu(m),a.removeMenuItem(m)}),{parentMenu:s,rootMenu:a,active:i,nsMenu:u,nsMenuItem:y,handleClick:b}}});function St(e,n,t,a,u,y){const s=Ze("el-tooltip");return A(),oe("li",{class:F([e.nsMenuItem.b(),e.nsMenuItem.is("active",e.active),e.nsMenuItem.is("disabled",e.disabled)]),role:"menuitem",tabindex:"-1",onClick:n[0]||(n[0]=(...v)=>e.handleClick&&e.handleClick(...v))},[e.parentMenu.type.name==="ElMenu"&&e.rootMenu.props.collapse&&e.$slots.title?(A(),ae(s,{key:0,effect:e.rootMenu.props.popperEffect,placement:"right","fallback-placements":["left"],persistent:""},{content:G(()=>[_(e.$slots,"title")]),default:G(()=>[pe("div",{class:F(e.nsMenu.be("tooltip","trigger"))},[_(e.$slots,"default")],2)]),_:3},8,["effect"])):(A(),oe(he,{key:1},[_(e.$slots,"default"),_(e.$slots,"title")],64))],2)}var Oe=H($t,[["render",St],["__file","/home/runner/work/element-plus/element-plus/packages/components/menu/src/menu-item.vue"]]);const kt={title:String},wt="ElMenuItemGroup",xt=T({name:wt,props:kt,setup(){return{ns:k("menu-item-group")}}});function Et(e,n,t,a,u,y){return A(),oe("li",{class:F(e.ns.b())},[pe("div",{class:F(e.ns.e("title"))},[e.$slots.title?_(e.$slots,"title",{key:1}):(A(),oe(he,{key:0},[Qe(Xe(e.title),1)],64))],2),pe("ul",null,[_(e.$slots,"default")])],2)}var Pe=H(xt,[["render",Et],["__file","/home/runner/work/element-plus/element-plus/packages/components/menu/src/menu-item-group.vue"]]);const At=me(yt,{MenuItem:Oe,MenuItemGroup:Pe,SubMenu:Me}),Bt=ge(Oe);ge(Pe);ge(Me);export{Pt as E,Bt as a,At as b,Ot as c};
